{"version":3,"file":"CatalogList-DEBZCgjQ.js","sources":["../../src/redux/favorites/selectors.js","../../src/components/CatalogItem/CatalogItem.jsx","../../src/components/CatalogList/CatalogList.jsx"],"sourcesContent":["export const selectFavorites = (state) => state.favorites.items;","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { selectFavorites } from \"../../redux/favorites/selectors\";\r\nimport { setFavoriteItems } from \"../../redux/favorites/slice\";\r\nimport { modalState } from \"../../redux/modal/slice\";\r\nimport clsx from \"clsx\";\r\nimport sprite from \"../../assets/icons/sprite.svg\"\r\n\r\nimport css from \"./CatalogItem.module.css\"\r\n\r\nconst CatalogItem = ({item}) => {\r\n    const dispatch = useDispatch();\r\n    const favorites = useSelector(selectFavorites);\r\n    const {name, gallery, price, reviews, location, description, adults, transmission, engine, details\r\n    } = item;\r\n\r\n    const averageScore = (reviews) => {\r\n        if (reviews.length === 0) return 0;\r\n        const totalScore = reviews.reduce((sum, review) => {\r\n          return sum + review.reviewer_rating;\r\n        }, 0);\r\n        return totalScore / reviews.length;\r\n    };\r\n\r\n    const textShort = (text, number) => {\r\n        if (text.length <= number) {\r\n          return text;\r\n        }\r\n        return text.slice(0, number) + '...';\r\n      };\r\n\r\n    const addToFavorites = (item) => {\r\n        const isFavorite = favorites.some(fav_Item => fav_Item._id === item._id);\r\n    \r\n        if (!isFavorite) {\r\n            dispatch(setFavoriteItems([...favorites, item]));\r\n        } else {\r\n            dispatch(setFavoriteItems(favorites.filter(fav_Item => fav_Item._id !== item._id)));\r\n        }\r\n    };\r\n\r\n    const openModal = (item) => {\r\n        dispatch(modalState(item))\r\n      };\r\n\r\n  return (\r\n    <>\r\n      <img className={css.img} src={gallery[0]} alt={name} />\r\n      <div className={css.content}>\r\n        <div className={css.topBox}>\r\n          <div className={css.nameAndPrice}>\r\n              <h4 className={css.name}>{textShort(name, 30)}</h4>\r\n              <div className={css.priceAndFavor}>\r\n                  <p className={css.price}>{`â‚¬${price}`}</p>\r\n                  <button className={css.btnHeart} onClick={() => addToFavorites(item)}>\r\n                      <svg className={clsx(css.iconHeart, {\r\n                          [css.active]: favorites.find(fav_Item => fav_Item._id === item._id)\r\n                      })}>\r\n                          <use href={`${sprite}#icon-heart`} />\r\n                      </svg>\r\n                  </button>\r\n              </div>\r\n          </div>\r\n          <div className={css.reviewsAndLocation}>\r\n            <div className={css.reviews}>\r\n                <svg className={css.iconStar}>\r\n                    <use href={`${sprite}#icon-star`} />\r\n                </svg>\r\n                <p className={css.reviewsText}>\r\n                    {`${averageScore(reviews)} (${reviews.length} Reviews)`}\r\n                </p>\r\n            </div>\r\n            <div className={css.location}>\r\n                <svg className={css.iconLocation}>\r\n                    <use href={`${sprite}#icon-location`} />\r\n                </svg>\r\n                <p className={css.locationText}>{location}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <p className={css.description}>{textShort(description, 65)}</p>\r\n        <div className={css.detailsBox}>\r\n            <div className={css.details}>\r\n                <svg className={css.iconDetails}>\r\n                    <use href={`${sprite}#icon-adults`} />\r\n                </svg>\r\n                <p className={css.detailsText}>{`${adults} adults`}</p>\r\n            </div>\r\n            <div className={css.details}>\r\n                <svg className={css.iconDetails}>\r\n                    <use href={`${sprite}#icon-transmission`} />\r\n                </svg>\r\n                <p className={css.detailsText}>{transmission}</p>\r\n            </div>\r\n            <div className={css.details}>\r\n                <svg className={css.iconDetails}>\r\n                    <use href={`${sprite}#icon-petrol`} />\r\n                </svg>\r\n                <p className={css.detailsText}>{engine}</p>\r\n            </div>\r\n            <div className={css.details}>\r\n                <svg className={css.iconDetails}>\r\n                    <use href={`${sprite}#icon-kitchen`} />\r\n                </svg>\r\n                <p className={css.detailsText}>Kitchen</p>\r\n            </div>\r\n            <div className={css.details}>\r\n                <svg className={css.iconDetails}>\r\n                    <use href={`${sprite}#icon-bads`} />\r\n                </svg>\r\n                <p className={css.detailsText}>{`${details.beds} Beds`}</p>\r\n            </div>\r\n            <div className={css.details}>\r\n                <svg className={css.iconDetails}>\r\n                    <use href={`${sprite}#icon-ac`} />\r\n                </svg>\r\n                <p className={css.detailsText}>AC</p>\r\n            </div>\r\n        </div>\r\n        <button className={css.btn} onClick={() => {openModal(item)}}>Show more</button>\r\n      </div>\r\n    </>       \r\n  )\r\n}\r\n\r\nexport default CatalogItem","import CatalogItem from \"../CatalogItem/CatalogItem\";\r\n\r\nimport css from \"./CatalogList.module.css\";\r\n\r\nconst CatalogList = ({data}) => {\r\n  return (\r\n    <ul className={css.catalogList}>\r\n      {data && data.map(({...item}) => {\r\n        return (\r\n          <li className={css.catalogItem} key={item._id}>\r\n            <CatalogItem item={item}/>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default CatalogList;"],"names":["selectFavorites","state","CatalogItem","item","dispatch","useDispatch","favorites","useSelector","name","gallery","price","reviews","location","description","adults","transmission","engine","details","averageScore","sum","review","textShort","text","number","addToFavorites","isFavorite","fav_Item","setFavoriteItems","openModal","modalState","jsxs","Fragment","jsx","css","clsx","sprite","CatalogList","data"],"mappings":"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"}